{% extends 'layout.html' %}

{% block title %}Recipes{% endblock %}

{% block body %}
    <div class="results-heading">
        <h1>{{ ingredients }} Recipes</h1>
    </div>
    <div class="container recipe-list">
        {% for title, result in results.items %}
            <article>
                <a href="{% url 'recipe' recipe_id=result.id %}" class="recipe-listing-link">
                    <div class="recipe-image">
                        <img class="recipe-card-img" src="{{ result.image }}" alt="recipe-image">
                    </div>
                    <div class="recipe-content">
                        <h3 class="recipe-title">{{ result.title }}</h3>
                        <h6>{{ result.num_used_ings }} Available Ingredients: </h6>
                        <p>{{ result.used_ings|join:", " }}</p>

                        <hr>
                        <h6>{{ result.num_missing_ings }} Needed Ingredients: </h6>
                        <p>{{ result.missing_ings|join:", " }}</p>
                    </div>
                </a>
            </article>
        {% endfor %}
    </div>

{% endblock %}